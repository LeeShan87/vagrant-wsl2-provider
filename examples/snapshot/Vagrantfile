# Snapshot Example for Vagrant WSL2 Provider
#
# This example demonstrates snapshot functionality.
#
# Usage:
#   vagrant up --provider=wsl2
#   vagrant snapshot save before-changes
#   # Make changes in the VM
#   vagrant snapshot restore before-changes
#   vagrant snapshot list
#   vagrant snapshot delete before-changes

Vagrant.configure("2") do |config|
  config.vm.box = "Ubuntu-24.04"

  config.vm.provider "wsl2" do |wsl|
    wsl.distribution_name = "vagrant-wsl2-snapshot-demo"
    wsl.version = 2
  end

  # Simple provisioner to create some state
  config.vm.provision "shell", inline: <<-SHELL
    echo "Initial setup completed at $(date)" > /home/vagrant/setup-time.txt
    echo "You can now experiment and use snapshots to rollback!"
  SHELL
end
